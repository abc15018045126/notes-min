# 极速便签 (Turbo Notes) - 开发与优化说明

本项目的核心目标是 **极致的启动速度、交互响应和开发效率**。

## 1. 核心架构：Capacitor + React (Modern Web)
虽然外壳是 Android 原生 WebView，但通过以下优化实现了“极致速度”：

*   **Vite + React + TS**：采用现代化的前端工程化方案，保证开发效率的同时，利用 Vite 的构建优化确保生产环境资源最小化。
*   **资源本地化**：所有构建产物都内置在应用 assets 中。没有任何网络请求，瞬间闪电启动。
*   **硬件加速**：优化 CSS 渲染路径，移除冗余的 GPU 强制参与（如 `will-change`），在保证流畅的同时降低温控开销。

## 2. 数据持久化策略
*   **实体文件管理**：通过 `@capacitor/filesystem` 插件将便签保存为手机 `Documents/QuickNotes` 下的真实 `.txt` 文件。
*   **重装不丢失**：数据存储在公共目录，卸载 App 后文件依旧存在，再次安装可自动找回。
*   **防抖自动保存**：监听输入状态，通过 300ms 防抖机制异步写入磁盘，确保打字过程零卡顿。

## 3. 开发极速测试指南
在项目根目录运行：
```bash
npm run run
```
该命令会自动执行：`Vite 构建` -> `Capacitor 同步` -> `Gradle 编译` -> `手机启动`。

## 4. 技术栈规范与版本要求 (Critical)

为了保证项目编译的稳定性与性能，**必须**遵循以下规范：

*   **Capacitor 核心导向**：
    *   **能用插件就用插件**：凡是文件操作、系统交互等功能，优先通过 Capacitor 官方插件实现。
    *   **严禁魔改原生逻辑**：除非插件完全无法满足要求，否则禁止修改 `MainActivity.java` 或增加不必要的原生桥接。

*   **Java 版本锁定 (Java 21)**：
    *   本项目全面统一使用 **Java 21 (JDK 21)**。
    *   所有 Gradle 编译环境，插件兼容性以及 `gradle.properties` 的 `java.home` 必须强制配置为 Java 21 分支，以确保多 JDK 环境下的编译一致性。

*   **极致响应 (Fluidity)**：
    *   任何新功能的添加都不得牺牲打字跟手感。
    *   耗时操作（写磁盘、大文件扫描）必须异步执行且具备防抖保护。

---
*极致的速度，源于简单的代码。*
